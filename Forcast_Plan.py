


def render():
        import streamlit as st
        import pandas as pd
        import plotly.express as px
        from plotly.subplots import make_subplots
        import plotly.graph_objects as go

    # view = st.sidebar.selectbox("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•:", (
    #     "üìä ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏Å‡∏©‡∏≤‡∏õ‡∏ì‡πå (‡∏ö‡∏ï.)",

    # ))
    # if view == "üìä ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏Å‡∏©‡∏≤‡∏õ‡∏ì‡πå (‡∏ö‡∏ï.)":
    # Full coin data for years 2569 to 2573
        coin_data = {
            "2569": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 217.31, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 63.17, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 280.48},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 340.81, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 94.33, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 435.14},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 83.8, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 96.78, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.03, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 127.81},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1080.63, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 360.22, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1440.85},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 52.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 35.31, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 87.56},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 112.22, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 65.94, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 178.16},
            ],
            "2570": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 9.751, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 62.65, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 276.40},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 16.571, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 94.76, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 427.26},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.43, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 122.50},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 67.598, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 367.20, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1483.45},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.076, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 32.12, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 73.69},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 17.0246, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.84, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.71},
            ],
            "2571": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.80, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 61.60, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 275.35},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 15.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 93.70, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 426.21},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 51.54, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.33, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 120.40},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.16, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 372.44, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1488.69},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.82, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.07, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 72.63},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.07, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.84, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.72},
            ],
            "2572": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.80, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 63.19, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 276.94},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.87, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 92.96, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 425.46},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 39.02, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 32.13, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 121.19},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 65.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 371.54, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1487.79},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.91, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 30.83, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 72.39},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.37, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.36, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.24},
            ],
            "2573": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 9.09, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 208.39, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 61.11, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 269.50},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.74, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 330.97, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 92.96, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 423.93},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 27.57, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 79.68, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.17, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 112.84},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.93, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1127.74, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 369.46, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1497.20},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.89, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 42.90, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.95, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 76.85},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.30, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 110.32, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.36, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 169.68},
            ]
        }
        
        st.title("üìä ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏Å‡∏©‡∏≤‡∏õ‡∏ì‡πå")

        # ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ
        combined = []
        for year, records in coin_data.items():
            for r in records:
                r_copy = r.copy()
                r_copy["‡∏õ‡∏µ"] = year
                combined.append(r_copy)

        df_all = pd.DataFrame(combined)

        # ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        with st.expander("üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ)", expanded=False):
            st.dataframe(df_all, use_container_width=True)
            st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (CSV)", df_all.to_csv(index=False).encode("utf-8-sig"), file_name="coin_data_all.csv", mime="text/csv")

        # Pie Chart: ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ
        pie_rows = 1
        pie_cols = 5
        fig5 = make_subplots(rows=pie_rows, cols=pie_cols, specs=[[{"type": "domain"}] * pie_cols],
                            subplot_titles=[f"‡∏õ‡∏µ {y}" for y in sorted(df_all["‡∏õ‡∏µ"].unique())])

        for i, y in enumerate(sorted(df_all["‡∏õ‡∏µ"].unique()), start=1):
            year_df = df_all[df_all["‡∏õ‡∏µ"] == y]
            fig5.add_trace(
                go.Pie(labels=year_df["‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤"], values=year_df["‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"],
                    textinfo="label+percent+value", hole=0.4, name=str(y)),
                row=1, col=i
            )

        fig5.update_layout(title_text="üß© ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ (Pie Chart Subplots)", height=500)
        st.plotly_chart(fig5, use_container_width=True)

        with st.expander("üß© ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ (Pie Chart Subplots)", expanded=False):
            sub_df2 = df_all[["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"]]
            st.dataframe(sub_df2, use_container_width=True)
            st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", sub_df2.to_csv(index=False).encode("utf-8-sig"), file_name="pie_chart_data.csv", mime="text/csv")

        # Stacked Bar Chart: ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ
        stacked_df = df_all.pivot(index="‡∏õ‡∏µ", columns="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", values="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°").reset_index()
        stacked_df = pd.melt(stacked_df, id_vars="‡∏õ‡∏µ", var_name="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", value_name="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
        fig_stacked = px.bar(stacked_df, y="‡∏õ‡∏µ", x="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°", color="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", orientation="h",
                            title="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ",
                            text="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
        fig_stacked.update_traces(texttemplate='%{text:.2f}', textposition='inside')
        fig_stacked.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')
        st.plotly_chart(fig_stacked, use_container_width=True)

        with st.expander("‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ", expanded=False):
            st.dataframe(stacked_df, use_container_width=True)
            st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", stacked_df.to_csv(index=False).encode("utf-8-sig"), file_name="stacked_bar_data.csv", mime="text/csv")

        # Facet Bar: ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ
        fcol1, fcol2 = st.columns([1, 1])
        with fcol1:
            fig = px.bar(df_all, x="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", y="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°", color="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", facet_col="‡∏õ‡∏µ",
                        category_orders={"‡∏õ‡∏µ": sorted(coin_data.keys())},
                        title="üìå ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏° (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç) ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ",
                        text="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
            fig.update_traces(textposition="outside", textangle=0, cliponaxis=False, insidetextanchor="start")
            fig.update_layout(height=800)
            st.plotly_chart(fig, use_container_width=True)

            with st.expander("üìå ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏° (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç) ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ", expanded=False):
                sub_df1 = df_all[["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"]]
                st.dataframe(sub_df1, use_container_width=True)
                st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", sub_df1.to_csv(index=False).encode("utf-8-sig"), file_name="facet_bar_data.csv", mime="text/csv")

        # Grouped Bar: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ
        with fcol2:
            melted_df = df_all.melt(id_vars=["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤"], value_vars=["‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á", "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ"],
                                    var_name="‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤", value_name="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô")
            fig2 = px.bar(melted_df,
                        x="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", y="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô", color="‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤", text="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô",
                        color_discrete_map={"‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": "#FFD700", "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": "#90EE90"},
                        barmode="group", facet_col="‡∏õ‡∏µ",
                        labels={"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç)", "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤": "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤"},
                        title="üìå ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ")
            fig2.update_traces(textposition="outside", textangle=0, cliponaxis=False, insidetextanchor="start")
            fig2.update_layout(height=800)
            st.plotly_chart(fig2, use_container_width=True)

            with st.expander("üìå ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ", expanded=False):
                st.dataframe(melted_df, use_container_width=True)
                st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", melted_df.to_csv(index=False).encode("utf-8-sig"), file_name="regional_comparison.csv", mime="text/csv")

    #/////////////////////////////////////////////////////////////////////////////////////////////////////
def figures():
        import streamlit as st
        import pandas as pd
        import plotly.express as px
        from plotly.subplots import make_subplots
        import plotly.graph_objects as go

        coin_data = {
            "2569": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 217.31, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 63.17, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 280.48},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 340.81, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 94.33, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 435.14},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 83.8, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 96.78, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.03, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 127.81},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1080.63, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 360.22, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1440.85},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 52.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 35.31, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 87.56},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": None, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 112.22, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 65.94, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 178.16},
            ],
            "2570": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 9.751, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 62.65, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 276.40},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 16.571, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 94.76, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 427.26},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.43, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 122.50},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 67.598, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 367.20, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1483.45},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.076, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 32.12, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 73.69},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 17.0246, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.84, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.71},
            ],
            "2571": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.80, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 61.60, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 275.35},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 15.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 93.70, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 426.21},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 51.54, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.33, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 120.40},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.16, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 372.44, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1488.69},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.82, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 31.07, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 72.63},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.07, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.84, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.72},
            ],
            "2572": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 8.80, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 213.75, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 63.19, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 276.94},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.87, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 332.50, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 92.96, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 425.46},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 39.02, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 89.06, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 32.13, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 121.19},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 65.01, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1116.25, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 371.54, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1487.79},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.91, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 41.56, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 30.83, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 72.39},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.37, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 106.88, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.36, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 166.24},
            ],
            "2573": [
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "10 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 9.09, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 208.39, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 61.11, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 269.50},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "5 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.74, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 330.97, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 92.96, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 423.93},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "2 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 27.57, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 79.68, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.17, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 112.84},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "1 ‡∏ö‡∏≤‡∏ó", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 64.93, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 1127.74, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 369.46, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 1497.20},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "50 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 5.89, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 42.90, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 33.95, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 76.85},
                {"‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤": "25 ‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå", "‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(‡∏¢‡∏Å‡∏°‡∏≤)": 14.30, "‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": 110.32, "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": 59.36, "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°": 169.68},
            ]
        }
        
        # ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ
        combined = []
        for year, records in coin_data.items():
            for r in records:
                r_copy = r.copy()
                r_copy["‡∏õ‡∏µ"] = year
                combined.append(r_copy)

        df_all = pd.DataFrame(combined)

        # ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        # with st.expander("üìã ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ)", expanded=False):
        #     st.dataframe(df_all, use_container_width=True)
        #     st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (CSV)", df_all.to_csv(index=False).encode("utf-8-sig"), file_name="coin_data_all.csv", mime="text/csv")

        # Pie Chart: ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ
        pie_rows = 1
        pie_cols = 5
        fig5 = make_subplots(rows=pie_rows, cols=pie_cols, specs=[[{"type": "domain"}] * pie_cols],
                            subplot_titles=[f"‡∏õ‡∏µ {y}" for y in sorted(df_all["‡∏õ‡∏µ"].unique())])

        for i, y in enumerate(sorted(df_all["‡∏õ‡∏µ"].unique()), start=1):
            year_df = df_all[df_all["‡∏õ‡∏µ"] == y]
            fig5.add_trace(
                go.Pie(labels=year_df["‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤"], values=year_df["‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"],
                    textinfo="label+percent+value", hole=0.4, name=str(y)),
                row=1, col=i
            )

        fig5.update_layout(title_text="üß© ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ (Pie Chart Subplots)", height=500)

        # with st.expander("üß© ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ (Pie Chart Subplots)", expanded=False):
        #     sub_df2 = df_all[["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"]]
        #     st.dataframe(sub_df2, use_container_width=True)
        #     st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", sub_df2.to_csv(index=False).encode("utf-8-sig"), file_name="pie_chart_data.csv", mime="text/csv")

        # Stacked Bar Chart: ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ
        stacked_df = df_all.pivot(index="‡∏õ‡∏µ", columns="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", values="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°").reset_index()
        stacked_df = pd.melt(stacked_df, id_vars="‡∏õ‡∏µ", var_name="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", value_name="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
        fig_stacked = px.bar(stacked_df, y="‡∏õ‡∏µ", x="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°", color="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", orientation="h",
                            title="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ",
                            text="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
        fig_stacked.update_traces(texttemplate='%{text:.2f}', textposition='inside')
        fig_stacked.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')

        # with st.expander("‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏µ", expanded=False):
        #     st.dataframe(stacked_df, use_container_width=True)
        #     st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", stacked_df.to_csv(index=False).encode("utf-8-sig"), file_name="stacked_bar_data.csv", mime="text/csv")

        # Facet Bar: ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ
        fcol1, fcol2 = st.columns([1, 1])
        with fcol1:
            fig = px.bar(df_all, x="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", y="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°", color="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", facet_col="‡∏õ‡∏µ",
                        category_orders={"‡∏õ‡∏µ": sorted(coin_data.keys())},
                        title="üìå ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏° (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç) ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ",
                        text="‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°")
            fig.update_traces(textposition="outside", textangle=0, cliponaxis=False, insidetextanchor="start")
            fig.update_layout(height=800)

            # with st.expander("üìå ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏° (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç) ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏õ‡∏µ", expanded=False):
            #     sub_df1 = df_all[["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", "‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏£‡∏ß‡∏°"]]
            #     st.dataframe(sub_df1, use_container_width=True)
            #     st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", sub_df1.to_csv(index=False).encode("utf-8-sig"), file_name="facet_bar_data.csv", mime="text/csv")

        # Grouped Bar: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ
        with fcol2:
            melted_df = df_all.melt(id_vars=["‡∏õ‡∏µ", "‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤"], value_vars=["‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á", "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ"],
                                    var_name="‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤", value_name="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô")
            fig2 = px.bar(melted_df,
                        x="‡∏ä‡∏ô‡∏¥‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤", y="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô", color="‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤", text="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô",
                        color_discrete_map={"‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á": "#FFD700", "‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ": "#90EE90"},
                        barmode="group", facet_col="‡∏õ‡∏µ",
                        labels={"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏•‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç)", "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤": "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤"},
                        title="üìå ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ")
            fig2.update_traces(textposition="outside", textangle=0, cliponaxis=False, insidetextanchor="start")
            fig2.update_layout(height=800)

            # with st.expander("üìå ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ", expanded=False):
            #     st.dataframe(melted_df, use_container_width=True)
            #     st.download_button("üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡∏µ‡πâ (CSV)", melted_df.to_csv(index=False).encode("utf-8-sig"), file_name="regional_comparison.csv", mime="text/csv")

        return fig_stacked